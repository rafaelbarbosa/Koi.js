<html>
<head>
    <title>Koi.js</title>
    <!--script type="text/javascript" src="handlebars.min.js"></script-->
    <script type="text/javascript" src="Koi.js"></script>
    <script type="text/javascript">

        Koi.application({
            name:'testApp',
            imports:[
                'Koi.ui.Button',
                'Koi.ui.Grid',
                'examples.data.model.User',
                'examples.data.store.User',
                'Koi.data.endpoint.Rest',
                'Koi.data.reader.Json'
            ],

            main:function () {
                var viewport = Koi.instantiate('Koi.ui.Viewport', {
                            title:'Koi test App',
                            items:[
                                {type:'button', text:'botao de teste'},
                                {type:'button', text:'botao de teste2'},
                                {
                                    type:'grid',
                                    store:'examples.data.store.User',
                                    columns:[
                                        {
                                            header:'Name',
                                            mapping:'name'
                                        },
                                        {
                                            header:'Username',
                                            mapping:'username'
                                        }
                                    ]
                                }
                            ]
                        }),
                        button = viewport.items[0],
                        button2 = viewport.items[1],
                        grid = viewport.items[2];


                button.on('click', function () {
                    grid.store.removeAll();
                    grid.store.load();
                }, button, true);
                button2.on('dblclick', function () {
                    grid.store.removeAll();
                }, button2, false);
                grid.on('itemclick', function (record) {
                    alert(record.get('name'));
                })
            }
        });

    </script>
</head>
<body></body>


</html>
